{"version":3,"file":"flexCarousel.js","sources":["../src/flexCarousel.js"],"sourcesContent":["/*\n * flexCarousel.js v0.3.0\n * https://github.com/tomhrtly/flexCarousel.js\n *\n * Copyright 2019 Tom Hartley\n * Released under the MIT license\n *\n * Icons provided by Font Awesome: https://fontawesome.com\n */\n\nclass FlexCarousel {\n    constructor(selector, options = {}) {\n        this.selectorName = selector.toString();\n        this.selector = document.querySelector(selector);\n\n        this.defaults = {\n            appendArrows: this.selector,\n            arrows: true,\n            arrowsOverlay: true,\n            autoplay: false,\n            autoplaySpeed: 5000,\n            circles: true,\n            circlesOverlay: true,\n            height: null,\n            infinite: true,\n            initialPage: 0,\n            nextButton: '<svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"angle-right\" class=\"svg-inline--fa fa-angle-right fa-w-8\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 512\"><path fill=\"currentColor\" d=\"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z\"></path></svg>',\n            prevButton: '<svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"angle-left\" class=\"svg-inline--fa fa-angle-left fa-w-8\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 512\"><path fill=\"currentColor\" d=\"M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z\"></path></svg>',\n            responsive: null,\n            slidesPerPage: 1,\n            slidesScrolling: 1,\n            transition: 'slide',\n            transitionSpeed: 250,\n        };\n\n        this.activeBreakpoint = null;\n        this.autoplayDirection = 'right';\n        this.breakpoints = [];\n        this.options = FlexCarousel.extend(this.defaults, options);\n        this.originalOptions = this.options;\n        this.slideAmount = null;\n        this.slideWidth = null;\n\n        this.currentPage = this.options.initialPage;\n\n        this.init();\n    }\n\n    addTransition() {\n        const slides = this.selector.querySelector('.fc-slides');\n\n        if (this.options.transition === 'slide') {\n            slides.style.transition = `all ${this.options.transitionSpeed}ms ease-in-out 0s`;\n        }\n    }\n\n    animatePage(target) {\n        this.addTransition();\n        this.setTransform(Math.ceil(target));\n\n        new Promise((resolve) => {\n            setTimeout(() => {\n                this.removeTransition();\n                resolve(true);\n            }, this.options.transitionSpeed);\n        }).then(() => this.setTransform(this.getLeftPage(this.currentPage)));\n    }\n\n    autoplay() {\n        let pause = false;\n        let slide;\n\n        if (this.options.autoplay) {\n            setInterval(() => {\n                if (!pause) {\n                    if (!this.options.infinite) {\n                        if (this.autoplayDirection === 'right') {\n                            slide = 'next';\n\n                            if ((this.currentPage + 1) === (this.slideAmount - 1)) {\n                                this.autoplayDirection = 'left';\n                            }\n                        } else if (this.autoplayDirection === 'left') {\n                            slide = 'previous';\n\n                            if (this.currentPage === 1) {\n                                this.autoplayDirection = 'right';\n                            }\n                        }\n                    } else {\n                        slide = 'next';\n                    }\n                    this.movePage(slide);\n                }\n            }, this.options.autoplaySpeed);\n\n            this.selector.addEventListener('mouseenter', () => { pause = true; });\n            this.selector.addEventListener('mouseleave', () => { pause = false; });\n        }\n    }\n\n    buildArrowEvents() {\n        const nextButton = this.options.appendArrows.querySelector('.fc-next');\n        const prevButton = this.options.appendArrows.querySelector('.fc-prev');\n\n        // Move to the next slide when clicking the next arrow\n        nextButton.addEventListener('click', () => {\n            this.movePage('next');\n        });\n\n        // Move to the previous slide when clicking the previous arrow\n        prevButton.addEventListener('click', () => {\n            this.movePage('previous');\n        });\n    }\n\n    buildArrows() {\n        const slides = this.selector.querySelector('.fc-slides');\n        const slide = slides.querySelectorAll('.fc-slide');\n\n        if (this.options.arrows) {\n            // Only show the arrows if there are more slides then slidesPerPage option\n            if (this.options.slidesPerPage < slide.length) {\n                this.selector.classList.add('fc-has-arrows');\n\n                // Create arrow button\n                const nextButton = document.createElement('button');\n                nextButton.classList.add('fc-next', 'fc-button');\n                nextButton.setAttribute('aria-label', 'Next');\n                nextButton.innerHTML = `<span class=\"fc-is-sr-only\">Next</span><span class=\"fc-icon\">${this.options.nextButton}</span>`;\n\n                // Create prev button\n                const prevButton = document.createElement('button');\n                prevButton.classList.add('fc-prev', 'fc-button');\n                prevButton.setAttribute('aria-label', 'Previous');\n                prevButton.innerHTML = `<span class=\"fc-is-sr-only\">Previous</span><span class=\"fc-icon\">${this.options.prevButton}</span>`;\n\n                // Append next arrow to the selector\n                this.options.appendArrows.appendChild(nextButton);\n\n                // Prepend prev arrow to the selector\n                this.options.appendArrows.insertBefore(prevButton, this.options.appendArrows.firstChild);\n\n                // Add the overlay class if needed\n                if (this.options.arrowsOverlay) {\n                    this.selector.classList.add('fc-has-arrows-overlay');\n                }\n\n                this.buildArrowEvents();\n                this.updateArrows();\n            }\n        }\n    }\n\n    buildBreakpointEvent() {\n        let timer;\n\n        window.addEventListener('resize', () => {\n            clearTimeout(timer);\n            timer = setTimeout(() => {\n                this.updateResponsive();\n            }, 500);\n        });\n    }\n\n    buildBreakpoints() {\n        const breakpoints = [];\n\n        if (this.options.responsive) {\n            let previous = this.options;\n\n            this.options.responsive.forEach(({ breakpoint, options }) => {\n                if (!breakpoints.includes(breakpoint)) {\n                    breakpoints.push(breakpoint);\n\n                    this.breakpoints[breakpoint] = FlexCarousel.extend(previous, options);\n                    previous = FlexCarousel.extend(previous, options);\n                }\n            });\n        }\n\n        this.buildBreakpointEvent();\n        this.updateResponsive(false);\n    }\n\n    buildCircleEvents() {\n        const circles = this.selector.querySelector('.fc-container').querySelectorAll('.fc-circle');\n\n        circles.forEach((element, index) => {\n            element.addEventListener('click', () => this.movePage(index));\n        });\n    }\n\n    buildCircles() {\n        if (this.options.circles) {\n            // Only show the arrows if there are more slides then slidesPerPage option\n            if (this.options.slidesPerPage < this.slideAmount) {\n                this.selector.classList.add('fc-has-circles');\n\n                // Create circles container\n                const circles = document.createElement('ul');\n                circles.classList.add('fc-circles');\n\n                this.selector.querySelector('.fc-container').appendChild(circles);\n\n                const option = this.options.slidesPerPage > this.options.slidesScrolling ? this.options.slidesScrolling : this.options.slidesPerPage;\n                const amount = Math.ceil(this.slideAmount / option);\n\n                for (let index = 0; index < amount; index += 1) {\n                    const li = document.createElement('li');\n\n                    const circle = document.createElement('button');\n                    circle.classList.add('fc-circle', 'fc-button');\n                    circle.setAttribute('aria-label', `${FlexCarousel.suffix(index + 1)} page`);\n\n                    const icon = document.createElement('span');\n                    icon.classList.add('fc-icon', 'fc-is-circle');\n\n                    const text = document.createElement('span');\n                    text.classList.add('fc-is-sr-only');\n                    text.innerHTML = index + 1;\n\n                    circle.appendChild(icon);\n                    circle.appendChild(text);\n                    li.appendChild(circle);\n                    circles.appendChild(li);\n                }\n\n                if (this.options.circlesOverlay) {\n                    this.selector.classList.add('fc-has-circles-overlay');\n                }\n\n                this.updateCircles();\n                this.buildCircleEvents();\n            }\n        }\n    }\n\n    buildOptions() {\n        if (this.options.height) {\n            this.selector.style.height = this.options.height;\n        }\n\n        this.autoplay();\n    }\n\n    buildSlides() {\n        const ul = this.selector.querySelector('ul');\n\n        ul.classList.add('fc-slides');\n\n        // Add the slide class to all child div elements\n        for (let index = 0; index < ul.children.length; index += 1) {\n            ul.children[index].classList.add('fc-slide');\n        }\n\n        // Wrap slides to reduce HTML markup\n        this.selector.innerHTML = `<div class=\"fc-container\">${this.selector.innerHTML}</div>`;\n\n        const slides = this.selector.querySelector('.fc-slides');\n        const allSlides = slides.querySelectorAll('.fc-slide');\n\n        this.slideAmount = allSlides.length;\n\n        if (this.options.slidesPerPage < this.slideAmount) {\n            this.slideWidth = 100 / this.options.slidesPerPage;\n\n            // Add the min-width CSS property to all slides\n            for (let index = 0; index < this.slideAmount; index += 1) {\n                allSlides[index].style.minWidth = `${this.slideWidth}%`;\n            }\n\n            if (this.options.infinite) {\n                // Clone and prepend/append slides\n                const array = Array.from(allSlides);\n                let prepend;\n                let append;\n\n                if (this.options.slidesPerPage >= this.options.slidesScrolling) {\n                    prepend = array.slice(this.slideAmount - this.options.slidesPerPage - 1, this.slideAmount).reverse();\n                    append = array.slice(0, this.options.slidesPerPage + 1);\n                } else {\n                    prepend = array.slice(this.slideAmount - this.options.slidesPerPage, this.slideAmount).reverse();\n                    append = array.slice(0, this.options.slidesPerPage);\n                }\n\n                for (let index = 0; index < prepend.length; index += 1) {\n                    const clone = prepend[index].cloneNode(true);\n                    clone.classList.add('fc-is-clone');\n                    slides.insertBefore(clone, slides.firstChild);\n                }\n\n                for (let index = 0; index < append.length; index += 1) {\n                    const clone = append[index].cloneNode(true);\n                    clone.classList.add('fc-is-clone');\n                    slides.appendChild(clone);\n                }\n            }\n\n            this.setTransform(this.getLeftPage(this.currentPage));\n        }\n    }\n\n    destroy() {\n        this.selector.querySelectorAll('.fc-slide.fc-is-clone').forEach((element) => {\n            this.selector.querySelector('.fc-slides').removeChild(element);\n        });\n\n        this.selector.querySelectorAll('.fc-slide').forEach((element) => {\n            element.removeAttribute('class');\n            element.removeAttribute('style');\n        });\n\n        this.selector.querySelector('.fc-slides').removeAttribute('style');\n        this.selector.querySelector('.fc-slides').removeAttribute('class');\n\n        if (this.options.circles) {\n            this.selector.querySelector('.fc-container').removeChild(this.selector.querySelector('.fc-circles'));\n        }\n\n        this.selector.innerHTML = this.selector.querySelector('.fc-container').innerHTML;\n\n        this.selector.className = this.selectorName.replace('.', '');\n        this.selector.removeAttribute('style');\n    }\n\n    getLeftPage(index) {\n        let slideOffset;\n\n        if (this.options.slidesPerPage < this.slideAmount) {\n            if (this.options.slidesPerPage >= this.options.slidesScrolling) {\n                slideOffset = (this.slideWidth * (this.options.slidesPerPage + 1)) * -1;\n            } else {\n                slideOffset = (this.slideWidth * this.options.slidesPerPage) * -1;\n            }\n\n            if (!this.options.infinite) {\n                slideOffset = 0;\n            }\n        }\n\n        return ((index * this.slideWidth) * -1) + slideOffset;\n    }\n\n    init() {\n        if (!this.selector.classList.contains('fc')) {\n            this.selector.classList.add('fc');\n            this.buildSlides();\n            this.buildArrows();\n            this.buildCircles();\n            this.buildOptions();\n            this.buildBreakpoints();\n        }\n    }\n\n    movePage(index) {\n        const unevenOffset = (this.slideAmount % this.options.slidesScrolling !== 0);\n        const indexOffset = unevenOffset ? 0 : (this.slideAmount - this.currentPage) % this.options.slidesScrolling;\n\n        if (index === 'previous') {\n            const slideOffset = indexOffset === 0 ? this.options.slidesScrolling : this.options.slidesPerPage - indexOffset;\n\n            if (this.options.slidesPerPage < this.slideAmount) {\n                this.slideController(this.currentPage - slideOffset);\n            }\n        } else if (index === 'next') {\n            const slideOffset = indexOffset === 0 ? this.options.slidesScrolling : indexOffset;\n\n            if (this.options.slidesPerPage < this.slideAmount) {\n                this.slideController(this.currentPage + slideOffset);\n            }\n        } else {\n            const page = index === 0 ? 0 : index * this.options.slidesScrolling;\n            this.slideController(page);\n        }\n\n        if (this.options.arrows) {\n            this.updateArrows();\n        }\n\n        if (this.options.circles) {\n            this.updateCircles();\n        }\n    }\n\n    reinit(options = {}) {\n        this.destroy();\n        this.options = FlexCarousel.extend(this.defaults, options);\n        this.init();\n    }\n\n    removeTransition() {\n        const slides = this.selector.querySelector('.fc-slides');\n\n        if (this.options.transition === 'slide') {\n            slides.style.transition = '';\n        }\n    }\n\n    setTransform(position) {\n        const slides = this.selector.querySelector('.fc-slides');\n        slides.style.transform = `translate3d(${Math.ceil(position)}%, 0px, 0px)`;\n    }\n\n    slideController(index) {\n        let nextPage;\n\n        if (index < 0) {\n            if (this.slideAmount % this.options.slidesScrolling !== 0) {\n                nextPage = this.slideAmount - (this.slideAmount % this.options.slidesScrolling);\n            } else {\n                nextPage = this.slideAmount + index;\n            }\n        } else if (index >= this.slideAmount) {\n            if (this.slideAmount % this.options.slidesScrolling !== 0) {\n                nextPage = 0;\n            } else {\n                nextPage = index - this.slideAmount;\n            }\n        } else {\n            nextPage = index;\n        }\n\n        this.currentPage = nextPage;\n        this.animatePage(this.getLeftPage(index));\n    }\n\n    updateArrows() {\n        const prevButton = this.options.appendArrows.querySelector('.fc-prev');\n        const nextButton = this.options.appendArrows.querySelector('.fc-next');\n\n        if (!this.options.infinite) {\n            if (this.currentPage === 0) {\n                prevButton.setAttribute('disabled', 'disabled');\n            } else {\n                prevButton.removeAttribute('disabled');\n            }\n\n            if (this.currentPage === this.slideAmount - 1) {\n                nextButton.setAttribute('disabled', 'disabled');\n            } else {\n                nextButton.removeAttribute('disabled');\n            }\n        }\n    }\n\n    updateCircles() {\n        const circles = this.selector.querySelector('.fc-container').querySelectorAll('.fc-circle');\n\n        for (let index = 0; index < circles.length; index += 1) {\n            circles[index].classList.remove('fc-is-active');\n        }\n\n        const index = Math.floor(this.currentPage / this.options.slidesScrolling);\n\n        circles[index].classList.add('fc-is-active');\n    }\n\n    updateResponsive() {\n        let targetBreakpoint;\n\n        this.breakpoints.forEach((options, breakpoint) => {\n            if (window.innerWidth >= breakpoint) {\n                targetBreakpoint = breakpoint;\n            }\n        });\n\n        if (targetBreakpoint) {\n            if (this.activeBreakpoint) {\n                if (targetBreakpoint !== this.activeBreakpoint) {\n                    this.activeBreakpoint = targetBreakpoint;\n                    this.reinit(this.breakpoints[targetBreakpoint]);\n                }\n            } else {\n                this.activeBreakpoint = targetBreakpoint;\n                this.reinit(this.breakpoints[targetBreakpoint]);\n            }\n        } else if (this.activeBreakpoint !== null) {\n            this.activeBreakpoint = null;\n            this.reinit(this.originalOptions);\n        }\n    }\n\n    static extend(defaults, options) {\n        const extended = {};\n\n        if (defaults) {\n            const keys = Object.keys(defaults);\n\n            keys.forEach((value) => {\n                if (Object.prototype.hasOwnProperty.call(defaults, value)) {\n                    extended[value] = defaults[value];\n                }\n            });\n        }\n\n        if (options) {\n            const keys = Object.keys(options);\n\n            keys.forEach((value) => {\n                if (Object.prototype.hasOwnProperty.call(options, value)) {\n                    extended[value] = options[value];\n                }\n            });\n        }\n\n        return extended;\n    }\n\n    static suffix(index) {\n        const j = index % 10;\n        const k = index % 100;\n\n        if (j === 1 && k !== 11) {\n            return `${index}st`;\n        }\n\n        if (j === 2 && k !== 12) {\n            return `${index}nd`;\n        }\n\n        if (j === 3 && k !== 13) {\n            return `${index}rd`;\n        }\n\n        return `${index}th`;\n    }\n}\n\nexport default FlexCarousel;\n"],"names":["FlexCarousel","selector","options","selectorName","toString","document","querySelector","defaults","appendArrows","arrows","arrowsOverlay","autoplay","autoplaySpeed","circles","circlesOverlay","height","infinite","initialPage","nextButton","prevButton","responsive","slidesPerPage","slidesScrolling","transition","transitionSpeed","activeBreakpoint","autoplayDirection","breakpoints","extend","originalOptions","slideAmount","slideWidth","currentPage","init","slides","style","target","addTransition","setTransform","Math","ceil","Promise","resolve","setTimeout","removeTransition","then","getLeftPage","pause","slide","setInterval","movePage","addEventListener","querySelectorAll","length","classList","add","createElement","setAttribute","innerHTML","appendChild","insertBefore","firstChild","buildArrowEvents","updateArrows","timer","window","clearTimeout","updateResponsive","previous","forEach","breakpoint","includes","push","buildBreakpointEvent","element","index","option","amount","li","circle","suffix","icon","text","updateCircles","buildCircleEvents","ul","children","allSlides","minWidth","array","Array","from","prepend","append","slice","reverse","clone","cloneNode","removeChild","removeAttribute","className","replace","slideOffset","contains","buildSlides","buildArrows","buildCircles","buildOptions","buildBreakpoints","unevenOffset","indexOffset","slideController","page","destroy","position","transform","nextPage","animatePage","remove","floor","targetBreakpoint","innerWidth","reinit","extended","keys","Object","value","prototype","hasOwnProperty","call","j","k"],"mappings":"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"}