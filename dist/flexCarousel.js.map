{"version":3,"file":"flexCarousel.js","sources":["../src/flexCarousel.js"],"sourcesContent":["/*\n * flexCarousel.js v0.3.0\n * https://github.com/tomhrtly/flexCarousel.js\n *\n * Copyright 2019 Tom Hartley\n * Released under the MIT license\n *\n * Icons provided by Font Awesome: https://fontawesome.com\n */\n\nclass FlexCarousel {\n    constructor(selector, options = {}) {\n        this.selector = document.querySelector(selector);\n\n        function extend(object1, object2) {\n            const extended = {};\n\n            if (object1) {\n                const object1Keys = Object.keys(object1);\n\n                object1Keys.forEach((value) => {\n                    if (Object.prototype.hasOwnProperty.call(object1, value)) {\n                        extended[value] = object1[value];\n                    }\n                });\n            }\n\n            if (object2) {\n                const object2Keys = Object.keys(object2);\n\n                object2Keys.forEach((value) => {\n                    if (Object.prototype.hasOwnProperty.call(object2, value)) {\n                        extended[value] = object2[value];\n                    }\n                });\n            }\n\n            return extended;\n        }\n\n        this.defaults = {\n            appendArrows: this.selector,\n            appendCircles: null,\n            arrows: true,\n            arrowsOverlay: true,\n            autoplay: false,\n            autoplaySpeed: 5000,\n            circles: true,\n            circlesOverlay: true,\n            height: null,\n            infinite: true,\n            nextButton: '<svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"angle-right\" class=\"svg-inline--fa fa-angle-right fa-w-8\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 512\"><path fill=\"currentColor\" d=\"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z\"></path></svg>',\n            prevButton: '<svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"angle-left\" class=\"svg-inline--fa fa-angle-left fa-w-8\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 512\"><path fill=\"currentColor\" d=\"M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z\"></path></svg>',\n            slidesPerPage: 1,\n            slidesScrolling: 1,\n            transition: 'slide',\n            transitionSpeed: 250,\n        };\n\n        this.slideWidth = null;\n        this.slideOffset = null;\n        this.slideAmount = null;\n        this.currentPage = 0;\n\n        this.options = extend(this.defaults, options);\n        this.init();\n    }\n\n    addTransition() {\n        const slides = this.selector.querySelector('.fc-slides');\n\n        if (this.options.transition === 'slide') {\n            slides.style.transition = `all ${this.options.transitionSpeed}ms ease-in-out 0s`;\n        }\n    }\n\n    animatePage(target) {\n        this.addTransition();\n        this.setTransform(Math.ceil(target));\n\n        new Promise((resolve) => {\n            setTimeout(() => {\n                this.removeTransition();\n                resolve(true);\n            }, this.options.transitionSpeed);\n        }).then(() => this.setTransform(this.getLeftPage(this.currentPage)));\n    }\n\n    autoplay() {\n        let pause = false;\n\n        if (this.options.autoplay) {\n            setInterval(() => {\n                if (!pause) {\n                    this.movePage('next');\n                }\n            }, this.options.autoplaySpeed);\n\n            this.selector.addEventListener('mouseenter', () => { pause = true; });\n            this.selector.addEventListener('mouseleave', () => { pause = false; });\n        }\n    }\n\n    buildArrowEvents() {\n        const nextButton = this.options.appendArrows.querySelector('.fc-next');\n        const prevButton = this.options.appendArrows.querySelector('.fc-prev');\n\n        // Move to the next slide when clicking the next arrow\n        nextButton.addEventListener('click', () => {\n            this.movePage('next');\n        });\n\n        // Move to the previous slide when clicking the previous arrow\n        prevButton.addEventListener('click', () => {\n            this.movePage('previous');\n        });\n    }\n\n    buildArrows() {\n        const slides = this.selector.querySelector('.fc-slides');\n        const slide = slides.querySelectorAll('.fc-slide');\n\n        if (this.options.arrows) {\n            // Only show the arrows if there are more slides then slidesPerPage option\n            if (this.options.slidesPerPage < slide.length) {\n                this.selector.classList.add('fc-has-arrows');\n\n                // Create arrow button\n                const nextButton = document.createElement('button');\n                nextButton.classList.add('fc-next', 'fc-button');\n                nextButton.setAttribute('aria-label', 'Next');\n                nextButton.innerHTML = `<span class=\"fc-is-sr-only\">Next</span><span class=\"fc-icon\">${this.options.nextButton}</span>`;\n\n                // Create prev button\n                const prevButton = document.createElement('button');\n                prevButton.classList.add('fc-prev', 'fc-button');\n                prevButton.setAttribute('aria-label', 'Previous');\n                prevButton.innerHTML = `<span class=\"fc-is-sr-only\">Previous</span><span class=\"fc-icon\">${this.options.prevButton}</span>`;\n\n                // Append next arrow to the selector\n                this.options.appendArrows.appendChild(nextButton);\n\n                // Prepend prev arrow to the selector\n                this.options.appendArrows.insertBefore(prevButton, this.options.appendArrows.firstChild);\n\n                // Add the overlay class if needed\n                if (this.options.arrowsOverlay) {\n                    this.selector.classList.add('fc-has-arrows-overlay');\n                }\n\n                this.buildArrowEvents();\n                this.updateArrows();\n            }\n        }\n    }\n\n    buildCircleEvents() {\n        const circles = this.options.appendCircles.querySelectorAll('.fc-circle');\n\n        circles.forEach((element, index) => {\n            element.addEventListener('click', () => this.movePage(index));\n        });\n    }\n\n    buildCircles() {\n        if (this.options.circles) {\n            // Only show the arrows if there are more slides then slidesPerPage option\n            if (this.options.slidesPerPage < this.slideAmount) {\n                this.selector.classList.add('fc-has-circles');\n\n                // Create circles container\n                const circles = document.createElement('ul');\n                circles.classList.add('fc-circles');\n\n                this.options.appendCircles.appendChild(circles);\n\n                const option = this.options.slidesPerPage > this.options.slidesScrolling ? this.options.slidesScrolling : this.options.slidesPerPage;\n                const amount = Math.ceil(this.slideAmount / option);\n\n                for (let i = 0; i < amount; i += 1) {\n                    const li = document.createElement('li');\n\n                    const circle = document.createElement('button');\n                    circle.classList.add('fc-circle', 'fc-button');\n                    circle.setAttribute('aria-label', `${FlexCarousel.suffix(i + 1)} page`);\n\n                    const icon = document.createElement('span');\n                    icon.classList.add('fc-icon', 'fc-is-circle');\n\n                    const text = document.createElement('span');\n                    text.classList.add('fc-is-sr-only');\n                    text.innerHTML = i + 1;\n\n                    circle.appendChild(icon);\n                    circle.appendChild(text);\n                    li.appendChild(circle);\n                    circles.appendChild(li);\n                }\n\n                if (this.options.circlesOverlay) {\n                    this.selector.classList.add('fc-has-circles-overlay');\n                }\n\n                this.updateCircles();\n                this.buildCircleEvents();\n            }\n        }\n    }\n\n    buildOptions() {\n        if (this.options.height) {\n            this.selector.style.height = this.options.height;\n        }\n\n        this.autoplay();\n    }\n\n    buildSlides() {\n        const ul = this.selector.querySelector('ul');\n\n        ul.classList.add('fc-slides');\n\n        // Add the slide class to all child div elements\n        for (let index = 0; index < ul.children.length; index += 1) {\n            ul.children[index].classList.add('fc-slide');\n        }\n\n        // Wrap slides to reduce HTML markup\n        this.selector.innerHTML = `<div class=\"fc-container\">${this.selector.innerHTML}</div>`;\n\n        if (!this.options.appendCircles) {\n            this.options.appendCircles = this.selector.querySelector('.fc-container');\n        }\n\n        const slides = this.selector.querySelector('.fc-slides');\n        const allSlides = slides.querySelectorAll('.fc-slide');\n\n        this.slideAmount = allSlides.length;\n\n        if (this.options.slidesPerPage < this.slideAmount) {\n            this.slideWidth = 100 / this.options.slidesPerPage;\n\n            // Add the min-width CSS property to all slides\n            for (let index = 0; index < this.slideAmount; index += 1) {\n                allSlides[index].style.minWidth = `${this.slideWidth}%`;\n            }\n\n            if (this.options.infinite) {\n                // Clone and prepend/append slides\n                const array = Array.from(allSlides);\n                let prepend;\n                let append;\n\n                if (this.options.slidesPerPage >= this.options.slidesScrolling) {\n                    prepend = array.slice(this.slideAmount - this.options.slidesPerPage - 1, this.slideAmount).reverse();\n                    append = array.slice(0, this.options.slidesPerPage + 1);\n                } else {\n                    prepend = array.slice(this.slideAmount - this.options.slidesPerPage, this.slideAmount).reverse();\n                    append = array.slice(0, this.options.slidesPerPage);\n                }\n\n                for (let index = 0; index < prepend.length; index += 1) {\n                    const clone = prepend[index].cloneNode(true);\n                    clone.classList.add('fc-is-clone');\n                    slides.insertBefore(clone, slides.firstChild);\n                }\n\n                for (let index = 0; index < append.length; index += 1) {\n                    const clone = append[index].cloneNode(true);\n                    clone.classList.add('fc-is-clone');\n                    slides.appendChild(clone);\n                }\n            }\n\n            this.setTransform(this.getLeftPage(this.currentPage));\n        }\n    }\n\n    getLeftPage(index) {\n        if (this.options.slidesPerPage < this.slideAmount) {\n            if (this.options.slidesPerPage >= this.options.slidesScrolling) {\n                this.slideOffset = (this.slideWidth * (this.options.slidesPerPage + 1)) * -1;\n            } else {\n                this.slideOffset = (this.slideWidth * this.options.slidesPerPage) * -1;\n            }\n\n            if (!this.options.infinite) {\n                this.slideOffset = 0;\n            }\n        }\n\n        return ((index * this.slideWidth) * -1) + this.slideOffset;\n    }\n\n    init() {\n        if (!this.selector.classList.contains('fc')) {\n            this.selector.classList.add('fc');\n            this.buildSlides();\n            this.buildArrows();\n            this.buildCircles();\n            this.buildOptions();\n        }\n    }\n\n    movePage(index) {\n        const unevenOffset = (this.slideAmount % this.options.slidesScrolling !== 0);\n        const indexOffset = unevenOffset ? 0 : (this.slideAmount - this.currentPage) % this.options.slidesScrolling;\n\n        if (index === 'previous') {\n            const slideOffset = indexOffset === 0 ? this.options.slidesScrolling : this.options.slidesPerPage - indexOffset;\n\n            if (this.options.slidesPerPage < this.slideAmount) {\n                this.slideController(this.currentPage - slideOffset);\n            }\n        } else if (index === 'next') {\n            const slideOffset = indexOffset === 0 ? this.options.slidesScrolling : indexOffset;\n\n            if (this.options.slidesPerPage < this.slideAmount) {\n                this.slideController(this.currentPage + slideOffset);\n            }\n        } else {\n            const page = index === 0 ? 0 : index * this.options.slidesScrolling;\n            this.slideController(page);\n        }\n\n        this.updateArrows();\n        this.updateCircles();\n    }\n\n    removeTransition() {\n        const slides = this.selector.querySelector('.fc-slides');\n\n        if (this.options.transition === 'slide') {\n            slides.style.transition = '';\n        }\n    }\n\n    setTransform(position) {\n        const obj = {};\n        const slides = this.selector.querySelector('.fc-slides');\n\n        obj.transform = `translate3d(${Math.ceil(position)}%, 0px, 0px)`;\n        slides.style.transform = obj.transform;\n    }\n\n    slideController(index) {\n        let nextPage;\n\n        if (index < 0) {\n            if (this.slideAmount % this.options.slidesScrolling !== 0) {\n                nextPage = this.slideAmount - (this.slideAmount % this.options.slidesScrolling);\n            } else {\n                nextPage = this.slideAmount + index;\n            }\n        } else if (index >= this.slideAmount) {\n            if (this.slideAmount % this.options.slidesScrolling !== 0) {\n                nextPage = 0;\n            } else {\n                nextPage = index - this.slideAmount;\n            }\n        } else {\n            nextPage = index;\n        }\n\n        this.currentPage = nextPage;\n        this.animatePage(this.getLeftPage(index));\n    }\n\n    updateArrows() {\n        const prevButton = this.options.appendArrows.querySelector('.fc-prev');\n        const nextButton = this.options.appendArrows.querySelector('.fc-next');\n\n        if (!this.options.infinite) {\n            if (this.currentPage === 0) {\n                prevButton.setAttribute('disabled', 'disabled');\n            } else {\n                prevButton.removeAttribute('disabled', 'disabled');\n            }\n\n            if (this.currentPage === this.slideAmount - 1) {\n                nextButton.setAttribute('disabled', 'disabled');\n            } else {\n                nextButton.removeAttribute('disabled', 'disabled');\n            }\n        }\n    }\n\n    updateCircles() {\n        const circle = this.options.appendCircles.querySelectorAll('.fc-circle');\n\n        for (let index = 0; index < circle.length; index += 1) {\n            circle[index].classList.remove('fc-is-active');\n        }\n\n        const index = Math.floor(this.currentPage / this.options.slidesScrolling);\n\n        circle[index].classList.add('fc-is-active');\n    }\n\n    static suffix(index) {\n        const j = index % 10;\n        const k = index % 100;\n\n        if (j === 1 && k !== 11) {\n            return `${index}st`;\n        }\n\n        if (j === 2 && k !== 12) {\n            return `${index}nd`;\n        }\n\n        if (j === 3 && k !== 13) {\n            return `${index}rd`;\n        }\n\n        return `${index}th`;\n    }\n}\n\nexport default FlexCarousel;\n"],"names":["FlexCarousel","selector","options","document","querySelector","extend","object1","object2","extended","object1Keys","Object","keys","forEach","value","prototype","hasOwnProperty","call","object2Keys","defaults","appendArrows","appendCircles","arrows","arrowsOverlay","autoplay","autoplaySpeed","circles","circlesOverlay","height","infinite","nextButton","prevButton","slidesPerPage","slidesScrolling","transition","transitionSpeed","slideWidth","slideOffset","slideAmount","currentPage","init","slides","style","target","addTransition","setTransform","Math","ceil","Promise","resolve","setTimeout","removeTransition","then","getLeftPage","pause","setInterval","movePage","addEventListener","slide","querySelectorAll","length","classList","add","createElement","setAttribute","innerHTML","appendChild","insertBefore","firstChild","buildArrowEvents","updateArrows","element","index","option","amount","i","li","circle","suffix","icon","text","updateCircles","buildCircleEvents","ul","children","allSlides","minWidth","array","Array","from","prepend","append","slice","reverse","clone","cloneNode","contains","buildSlides","buildArrows","buildCircles","buildOptions","unevenOffset","indexOffset","slideController","page","position","obj","transform","nextPage","animatePage","removeAttribute","remove","floor","j","k"],"mappings":"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"}